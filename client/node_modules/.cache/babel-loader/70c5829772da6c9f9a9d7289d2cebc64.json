{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hectordeluna/development/instaPalette/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hectordeluna/development/instaPalette/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hectordeluna/development/instaPalette/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Container,Form,FormGroup,Label,Row,Col,ListGroup,ListGroupItem,Modal,ModalHeader,ModalBody,ModalFooter,Button,Spinner,Fade,Alert}from'reactstrap/';import ColorCard from\"./ColorCard\";import ErrorCard from\"./ErrorCard\";import Hooks from\"./../services/hooks\";import paletteService from\"./../services/paletteService\";import{Box,Grid,Input,InputGroup,InputLeftElement,Icon}from\"@chakra-ui/core\";var FormUser=function FormUser(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setInput=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState({colors:[],profilePhoto:\"\",posts:0}),_useState6=_slicedToArray(_useState5,2),palette=_useState6[0],setPalette=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],setSearch=_useState8[1];var _useState9=useState({error:false,message:\"\"}),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var save=function save(e){setInput(e.target.value);console.log(value);};var onSave=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSearch(true);e.preventDefault();case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSave(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(value!=\"\")){_context2.next=8;break;}_context2.next=3;return paletteService.getPalette(value);case 3:result=_context2.sent;if(result.length==0){setError({error:true,message:\"Make sure the user is public and has photos! uWu\"});}else{console.log(result);setPalette(result);}setSearch(false);_context2.next=9;break;case 8:setSearch(false);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchData(){return _ref2.apply(this,arguments);};}();if(search){setPalette([]);setName(value);fetchData();}},[search]);var displayLoading=function displayLoading(){if(!search){return null;}return React.createElement(Spinner,{color:\"primary\",size:\"lg\"});};var displayInitial=function displayInitial(){if(name!==\"\"){return null;}return React.createElement(ErrorCard,{iconName:\"search\",title:\"Get your Palette!\",content:\"Get your Color Palette with your Instagram username!\"});};return React.createElement(\"div\",null,React.createElement(Container,null,React.createElement(Row,{style:{display:'flex',justifyContent:'center'}},React.createElement(Col,{md:\"6\",sm:\"12\"},React.createElement(Form,{onSubmit:function onSubmit(e){return onSave(e);},style:{position:\"relative\",top:\"-50px\",zIndex:\"10\"}},React.createElement(InputGroup,null,React.createElement(InputLeftElement,{children:React.createElement(Icon,{name:\"search\",color:\"gray.300\"})}),React.createElement(Input,{className:\"shadow-sharp\",variant:\"flushed\",type:\"text\",name:\"username\",id:\"username\",placeholder:\"Username...\",background:\"#FFFFFF\",borderRadius:\"5px\",lineHeight:\"1.5\",border:\"none\",onChange:function onChange(e){return setInput(e.target.value);},style:{WebkitAppearance:\"none\"}}))))),React.createElement(Row,{style:{display:'flex',justifyContent:'center',paddingBottom:\"30px\"}},displayLoading(),displayInitial(),React.createElement(Fade,{in:!search,timeout:700},palette.profilePhoto&&React.createElement(ColorCard,{name:name,palette:palette.colors,profilePhoto:palette.profilePhoto,posts:palette.posts})))));};export default FormUser;","map":{"version":3,"sources":["/Users/hectordeluna/development/instaPalette/client/src/components/FormUser.js"],"names":["React","useState","useEffect","Container","Form","FormGroup","Label","Row","Col","ListGroup","ListGroupItem","Modal","ModalHeader","ModalBody","ModalFooter","Button","Spinner","Fade","Alert","ColorCard","ErrorCard","Hooks","paletteService","Box","Grid","Input","InputGroup","InputLeftElement","Icon","FormUser","props","value","setInput","name","setName","colors","profilePhoto","posts","palette","setPalette","search","setSearch","error","message","setError","save","e","target","console","log","onSave","preventDefault","fetchData","getPalette","result","length","displayLoading","displayInitial","display","justifyContent","position","top","zIndex","WebkitAppearance","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Container,\n    Form,\n    FormGroup,\n    Label,\n    Row,\n    Col,\n    ListGroup,\n    ListGroupItem,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    ModalFooter,\n    Button,\n    Spinner,\n    Fade,\n    Alert\n  } from 'reactstrap/';\nimport ColorCard from \"./ColorCard\";\nimport ErrorCard from \"./ErrorCard\";\nimport Hooks from \"./../services/hooks\";\nimport paletteService from \"./../services/paletteService\";\nimport { Box, Grid, Input, InputGroup, InputLeftElement, Icon } from \"@chakra-ui/core\";\n\nconst FormUser = (props) => {\n\n    const [value, setInput] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [palette, setPalette] = useState({ colors: [], profilePhoto: \"\", posts: 0 });\n    const [search, setSearch] = useState(\"\");\n    const [error, setError] = useState({ error: false, message: \"\" });\n\n    const save = e => {\n        setInput(e.target.value);\n        console.log(value);\n    };\n\n    const onSave = async (e) => {\n        setSearch(true);\n        e.preventDefault();\n    }\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (value != \"\") {\n                const result = await paletteService.getPalette(value);\n\n                if (result.length == 0) {\n                    setError({error: true, message: \"Make sure the user is public and has photos! uWu\"});\n                } else {\n                    console.log(result);\n                    setPalette(result);\n                }\n\n                setSearch(false);\n            } else {\n                setSearch(false);\n            }\n        };\n\n        if (search) {\n            setPalette([]);\n            setName(value);\n            fetchData();\n        }\n    }, [search]);\n\n    const displayLoading = () => {\n        if (!search) {\n            return null;\n        }\n        return <Spinner color=\"primary\" size=\"lg\"/>;\n    };\n\n    const displayInitial = () => {\n        if (name !== \"\") {\n            return null;\n        }\n\n        return <ErrorCard iconName=\"search\" title=\"Get your Palette!\" content=\"Get your Color Palette with your Instagram username!\" />;\n    }\n\n    return (\n        <div>\n            <Container>\n                <Row style={{display: 'flex', justifyContent: 'center'}}>\n                    <Col md=\"6\" sm=\"12\">\n                        <Form onSubmit={e => onSave(e)} style={{ position: \"relative\", top: \"-50px\", zIndex: \"10\" }}>\n                                <InputGroup>\n                                <InputLeftElement children={<Icon name=\"search\" color=\"gray.300\" />} />\n                                <Input \n                                className=\"shadow-sharp\"\n                                variant=\"flushed\" \n                                type=\"text\" \n                                name=\"username\" \n                                id=\"username\" \n                                placeholder=\"Username...\" \n                                background=\"#FFFFFF\"\n                                borderRadius=\"5px\"\n                                lineHeight=\"1.5\"\n                                border=\"none\"\n                                onChange={e => setInput(e.target.value)}\n                                style={{ WebkitAppearance: \"none\" }}\n                                />\n                                </InputGroup>\n                        </Form>\n                    </Col>\n                </Row>\n                <Row style={{display: 'flex', justifyContent: 'center', paddingBottom: \"30px\"}}>\n                    { displayLoading() }\n                    { displayInitial() }\n                    <Fade in={!search} timeout={700}>\n                        {palette.profilePhoto && (<ColorCard name={name} palette={palette.colors} profilePhoto={palette.profilePhoto} posts={palette.posts}/>)}\n                    </Fade>\n                </Row>            \n            </Container>\n        </div>\n    );\n}\n\nexport default FormUser;\n"]},"metadata":{},"sourceType":"module"}